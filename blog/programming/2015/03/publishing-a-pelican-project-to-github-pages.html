<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>
Dylan Gregersen [blog archive]
  </title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="apple-touch-icon" sizes="57x57" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://astrodsg.github.io/extra/icons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="https://astrodsg.github.io/extra/icons/favicon-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="https://astrodsg.github.io/extra/icons/favicon-160x160.png" sizes="160x160">
<link rel="icon" type="image/png" href="https://astrodsg.github.io/extra/icons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="https://astrodsg.github.io/extra/icons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="https://astrodsg.github.io/extra/icons/favicon-32x32.png" sizes="32x32">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="https://astrodsg.github.io/extra/icons/mstile-144x144.png">

	<link href="https://astrodsg.github.io/theme/css/bootstrap.min.css" rel="stylesheet">
	<link id="bootstrap-stylesheet" href="https://astrodsg.github.io/theme/css/bootstrap-yeti.min.css" rel="stylesheet">
	<link href="https://astrodsg.github.io/theme/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="/static/css/highlight_kate/solarize.css" rel="stylesheet">
  <!-- <link href="https://astrodsg.github.io/theme/css/bootstrap-tag-cloud.css" rel="stylesheet"> -->
  <link href="https://astrodsg.github.io/theme/css/styles.css" rel="stylesheet">


  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body id="home">

<header>
  <div class="navbar navbar-default navbar-fixed-top" role='navigation'>
    <div class="container-fluid">
      <div class="navbar-inner">      
        <div class="navbar-header">
        
          <a class="navbar-brand" href="/">
            Dylan Gregersen
          </a>

          <div class='navbar-toggle-container'>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-main"/>
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span> 
          </div>  

        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse-main">
          <ul class="nav navbar-nav">
            <li>
              <a href="https://astrodsg.github.io/">Home</a>
            </li>
            <li>
              <a href="https://astrodsg.github.io/blog/index.html">Blog</a>
            </li>
            <li>
              <a href="https://astrodsg.github.io/research.html">Research</a>
            </li>
            <li>
              <a href="https://astrodsg.github.io/programming.html">Programming</a>
            </li>
            <li>
              <a href="https://astrodsg.github.io/contact.html">Contact</a>
            </li>
          </ul>
          <!--  -->
<!--           <div class="navbar-search">
            <form class="navbar-form navbar-left" role="search" action="https://astrodsg.github.io/search.html" method="GET">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Search">
                <span class="input-group-btn">
                  <button type="button" action='submit' class="btn btn-default">
                    <i class="fa fa-search"></i>
                  </button>
                </span>
              </div>
            </form>  
          </div>
        -->
        <!-- glyphicon glyphicon-search       -->        
        </div>
      </div>
    </div>
  </div>
</header>

  <div id="wrap"><!--  class="container main"> -->
    <section>
<!--main-->
<div class="container-fluid">

  <div class="row-fluid">

    <div class="col-md-9" id="leftCol">
<article class="blog-post">
	
	<div class="page-header">
		<h1>Publishing a Pelican Project to Github Pages</h1>
	</div>
	
	<div class="well small">
		<p>
			Permalink: <a class="more" href="https://astrodsg.github.io/blog/programming/2015/03/publishing-a-pelican-project-to-github-pages.html">https://astrodsg.github.io/blog/programming/2015/03/publishing-a-pelican-project-to-github-pages.html</a>
		</p>
		<p>
			by <!-- <a class="url fn" href="https://astrodsg.github.io/author/dylan-gregersen.html"> -->
			Dylan Gregersen
		</p>
		<p>
			Category: <a href="https://astrodsg.github.io/category/programming.html">programming</a>
		</p>
		<p>
			tags: 
			<a href="https://astrodsg.github.io/tag/python.html">python</a> 
			&#149;
			<a href="https://astrodsg.github.io/tag/pelican.html">pelican</a> 
			&#149;
			<a href="https://astrodsg.github.io/tag/git.html">git</a> 
			&#149;
			<a href="https://astrodsg.github.io/tag/web-dev.html">web-dev</a> 
			&#149;
			<a href="https://astrodsg.github.io/tag/github.html">github</a> 
		</p>
	</div>

	<div>
		<h1 id="publishing-pelican-to-github-pages">Publishing Pelican to Github Pages</h1>
<p>When I created my personal webpage, I planned for it to be git tracked and hosted on github pages. I used Pelican to generate the static content to push to github. Reading up on <a href="https://pages.github.com/">Github Pages</a> I learned they want me to push to “username.github.io, where username is your username (or organization name) on GitHub”. But the unexpected trick was that when github’s server looks at http://username.github.io it uses the master branch.</p>
<p>This post is about how I set up my Pelican website with git and published to http://username.github.io master branch.</p>
<h2 id="tracking-your-pelican-project-with-git">Tracking Your Pelican Project with Git</h2>
<p>If you have some pelican project going this will add git version control. My example lives in “~/project/yoursite”.</p>
<p>First, create and add the following lines to “~/project/yoursite/.gitignore”</p>
<pre><code>publishconf.py 
output
*.pyc
*.pid
cache
__pycache__</code></pre>
<p>Next, initialize git</p>
<pre><code>cd ~/project/yoursite/  # directory of our pelican project
git init
git add .
git commit -m &quot;initial commit&quot;</code></pre>
<p>You’ll want to familiarize yourself with git if you haven’t already.</p>
<h2 id="set-up-pelican-to-publish-to-github-pages">Set Up Pelican to Publish to Github Pages</h2>
<p>Now I’ll walk through setting up your Pelican project to be your primary github page. Github hosts, for free, websites with static content (explained at <a href="https://pages.github.com/">Github Pages</a>). You can create sub-websites for each project and one primary for your account. The primary account is located at username.github.io “where username is your username (or organization name) on GitHub”.</p>
<p>To set up your project on github, create the repo on github then run</p>
<pre><code>git remote add origin https://github.com/username/username.github.io # where username is your username (or organization name) on GitHub.</code></pre>
<p>When you create your username.github.io repository github hosts the content on your master branch. But now there’s <strong>a problem:</strong> But your master branch is also where all your pelican development is and the what you want to publish is probably in an output directory.</p>
<p><strong>My solution:</strong> Have my primary development in a branch called pelican and then push my final content to the master. This is not standard but I think it’s pretty elegant.</p>
<p>To implement create a second branch (your new master) called ‘pelican’ (or whatever you actually want to use)</p>
<pre><code>git checkout -b pelican</code></pre>
<p>Now to push to the master branch their’s a handy tool called ghp-import. You can install via pip:</p>
<pre><code>pip install ghp-import</code></pre>
<p>If you’ve set up pelican project with a Makefile (recommended) then you can simply edit that file by adding:</p>
<pre><code>GITHUB_PAGES_BRANCH=master</code></pre>
<p>If not you can create a make file and add the following:</p>
<pre><code>OUTPUTDIR=output
GITHUB_PAGES_BRANCH=master
github: publish
    ghp-import -b $(GITHUB_PAGES_BRANCH) $(OUTPUTDIR)
    git push origin $(GITHUB_PAGES_BRANCH)</code></pre>
<p>Now when you type <code>make github</code>, it’ll make the pelican content out to the master branch and push it to github. Then you can go to [https://username.github.io] to view your website from anywhere! Nifty, huh?</p>

	</div>

<!-- Navigation bar for moving forward and backards in posts
This uses the plugin multi_neighbors for pelican to get the
article.prev_articles and article.next_articles attributes

-->
<div class="blog-nav">
  <!-- Previous/Older Posts -->
  <div class="blog-nav-btn blog-older"> 
    <div class="btn btn-info blog-neighbor">      
      <a href="https://astrodsg.github.io/blog/programming/2014/12/practical-tools-for-matplotlib-colormaps.html">
        <span aria-hidden="true">&larr;</span> Older
      </a>
    </div>
    <div class="btn-group blog-nav-menu-toggle">
      <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
        <span class="caret"></span>
        <span class="sr-only">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right" role="menu">      
        <li><a href="/blog/programming/2014/12/practical-tools-for-matplotlib-colormaps.html">Practical Tools for Matplotlib Colormaps</a></li>
        <li><a href="/blog/programming/2014/10/execfile-lives.html">Execfile Lives!</a></li>
        <li><a href="/blog/programming/2014/10/python-3-all-the-things.html">Python 3 All the Things!</a></li>
      </ul>
    </div>
  </div>
  

  <!-- Go to All Posts -->
  <div class="btn btn-info blog-nav-btn blog-all">
    <a href="https://astrodsg.github.io/blog">  
      All Posts
    </a>
  </div>

  <!-- Next/Newer Posts -->
  
</div>
</articles>
    </div> 

    <div class="col-md-3">
<!--left-->
<aside class="sidebar well well-lg">
  <section>
    <h2 class="sidebar-title">
      <a href="https://astrodsg.github.io/blog" class="section-title">
        My Blog
      </a>
    </h2>
  </section>

  <section>
    <h2><a href="https://astrodsg.github.io/categories" class="section-title">Categories</a></h2>
    <ul>    
      <li><a href="https://astrodsg.github.io/category/programming.html">Programming</a></li>
    </ul>      
  </section>

  <section>
    <h2><a href="https://astrodsg.github.io/tags" class="section-title">Tags</a></h2>
    <div class="tag-cloud-container">
    <ul class="tag-cloud">   
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/python.html">
           <span class="badge">4</span> python
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/programming.html">
           <span class="badge">3</span> programming
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/python3.html">
           <span class="badge">2</span> python3
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/pelican.html">
           <span class="badge">1</span> pelican
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/github.html">
           <span class="badge">1</span> github
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/web-dev.html">
           <span class="badge">1</span> web-dev
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/colormaps.html">
           <span class="badge">1</span> colormaps
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/2to3.html">
           <span class="badge">1</span> 2to3
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/plotting.html">
           <span class="badge">1</span> plotting
        </a>
      </li>
      <!-- <li class="tag-cloud"> -->
      <li role='presentation'>
        <a href="https://astrodsg.github.io/tag/git.html">
           <span class="badge">1</span> git
        </a>
      </li>
    </ul>  
    </div>
  </section>

  <section>
    <h2>Social</h2>    
    <ul>    
      <li><a href="https://astrodsg.github.io/feeds/all.atom.xml" rel="alternate">atom feed</a></li>


        <li><a href="http://twitter.com/astrdsg">twitter</a></li>
        <li><a href="http://github.com/astrodsg">github</a></li>
      
    </ul>
  </section>
</aside>    </div>

  </div><!--/row-->
  <div class="row-fluid">
    <footer>
<p> Powered by <a href="http://python.org">pyth</a>-<a href="http://getpelican.com">ican</a>.
</p>
<p>
Content covered by <a href="/license.html">MIT License</a>
</p>    </footer>
  </div>
</div><!--/container-->
    </section>
  </div>

<div id="goto-container">
  <div id="goto">
    <script>
      document.write("<i class='fa  fa-chevron-circle-up fa-2x'></i>");
    </script>
    <noscript>
      <a href='#'>    
        TOP
      </a>
    </noscript>
  </div>
</div>
  <!-- script references -->
  <script src="https://astrodsg.github.io/theme/js/jquery-2.1.3.min.js"></script>
  <script src="https://astrodsg.github.io/theme/js/bootstrap.min.js"></script>
  <script src="https://astrodsg.github.io/theme/js/goto_top.js"></script>
  <!-- <script src="https://astrodsg.github.io/theme/js/scripts.js"></script> -->

</body>
</html>